# Advanced aoi.js Template
- Advanced, rather complicated, aoi.js template.

[![Replit](https://img.shields.io/badge/Replit-DD1200?style=for-the-badge&logo=Replit&logoColor=white)](https://replit.com/@frenchwomen/advanced-aoijs-template?v=1) [![Discord](https://img.shields.io/badge/Discord-%235865F2.svg?style=for-the-badge&logo=discord&logoColor=white)](https://discord.com/invite/HMUfMXDQsV) [![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)](https://github.com/Faf4a/advanced-aoijs-template)

## This template uses:
- [aoi.parser](https://www.npmjs.com/package/aoi.parser)
- [@akarui/aoi.music](https://www.npmjs.com/package/@akarui/aoi.music)
- [aoi.js & aoi.db (latest)](https://www.npmjs.com/package/aoi.js)
- [express](https://www.npmjs.com/package/express)
- [nodejs](https://nodejs.org/)

## Table of Contents
- [Features](#features)
  - Learn about the features of this template. 
- [First Time Setup](#first-time-setup)
  - Learn how to properly use the template without issues.

## Features

This template includes:
- Advanced setup (aka. easy setup without actually knowing how to code).
  - Highly Customizeable
- Moderation System
  - Warn System with pagination (using objects)
  - Ban & Unban Commands
- Music Commands
  - Basic Music Commands
- Miscellaneous Commands
  - Autogenerated Help Command
  - Ping Command
  - Eval Command (owner only)
- Custom Functions Handler
  - Two pre-added Custom Functions
    - `$search` - Easily search for music using @akarui/aoi.music.
    - `$createAutomodRule` - Create AutoModRules using aoi.js and discord.js
- Custom Logs
  - Ability to disable custom logs and more.

This template is rather basic when it comes to commands, it's more complicated in the inside than on the outside.

## First Time Setup

First of all, create a new Application on the [Discord Developer Portal](https://discord.com/developers/applications) and grab its Token, ensure that you enable all Privileged Gateway Intents.

[![image](https://i.imgur.com/quFg11H.png)](https://i.imgur.com/quFg11H.png)

After you did that, you are able to get started with the [`config.js`](https://github.com/Faf4a/advanced-aoijs-template/blob/main/handler/config/config.js) file, which is basically all you need to edit.

[![image](https://i.imgur.com/L0YPtOz.png)](https://i.imgur.com/L0YPtOz.png)

As you can see there are multiple options for you to choose from. All of them have descriptions and should be self-explanatory.

However, for now you'd need to paste the token you got early into the token field. It should look like the following:
```json
  token: "your token",
```
You can also change the prefix if you'd like, but that's up to you.

Everything else is already ready to go, and you'd only have to run the following command:
```php
npm run main
```
or 
```
node index.js
```

The bot should automatically start if you did everything correct and the console should start displaying the loaded commands.

## Creating Custom Functions

Generally you shouldn't use the aoi.js type as it's insanely broken in the current version, therefore does this only support the `djs` type.

Formatting for custom functions inside the directory:

```javascript
module.exports = ({
  name: "$function",
  type: "djs",
  code: async d => { // fetching data
    const client = require("../clientReady"); // defining client
    const data = d.util.aoiFunc(d);
    const [parameter, ...] = data.inside.splits; // command parameters

    ...

    data.result = ... // needed for the function to properly work, will set the "output" of the function
    return {
      code: d.util.setCode(data) // will return the output from data.result
    };
  }
});
```

You can read more about custom functions here: https://aoi.js.org/docs/guides/customfunctions!

## Command Handler

These commands use a "special" formatting, so the help command is able to fetch the usage.

Let's use the "case" command for example:

```javascript
module.exports = [{
    name: "case",
    aliases: ["cases"],
    $if: "old",
    info: {
        usage: "cases <user> <case_number>",
        description: "Will check cases for a given user or display all cases.",
        aliases: ["cases"],
        type: "text",
        permissions: ["sendmessages", "viewchannel", "embedlinks"]
    },
    code: `
    some code
    `
}]
```

As you can see, it as another nested property called `info` which the help command uses. This would be needed in all commands (only for default & prototype: "slash" type) for the help command to work properly.

[![image](https://i.imgur.com/2mZJ5xy.png)](https://i.imgur.com/2mZJ5xy.png)

[![image](https://i.imgur.com/B4kJ4zJ.png)](https://i.imgur.com/B4kJ4zJ.png)

[![image](https://i.imgur.com/uLosW8j.png)](https://i.imgur.com/uLosW8j.png)
